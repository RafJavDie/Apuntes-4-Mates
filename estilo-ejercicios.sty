\NeedsTeXFormat{LaTeX2e}

\ProvidesPackage{estilo-ejercicios}

\usepackage[utf8x]{inputenc}
\usepackage[spanish,es-nodecimaldot]{babel}
\usepackage{amsmath,amssymb,amsthm,amsfonts}
\usepackage{enumerate}
\usepackage{comment}
\usepackage{graphicx}
\usepackage{mathrsfs}
\usepackage{setspace}
\usepackage{nccmath}
\usepackage{multirow}
\usepackage{hyperref}
\usepackage{pgf,tikz}
\usepackage{tikz-cd}
\usetikzlibrary{arrows}
\usetikzlibrary{cd}
\usetikzlibrary{babel}
\hypersetup{colorlinks=true,citecolor=red, linkcolor=blue}

\renewcommand{\baselinestretch}{1,4}
\setlength{\oddsidemargin}{0.5in}
\setlength{\evensidemargin}{0.5in}
\setlength{\textwidth}{5.4in}
\setlength{\topmargin}{-0.25in}
\setlength{\headheight}{0.5in}
\setlength{\headsep}{0.6in}
\setlength{\textheight}{8in}
\setlength{\footskip}{0.75in}

\theoremstyle{definition}


\newtheorem{ejer}{Ejercicio}
\newtheorem{lemma}{Lema}
\newtheorem{coro}{Corolario}
\newtheorem{prop}{Proposición}
\newtheorem*{defi}{Definición}
\newtheorem*{sol}{Solución}
\newtheorem*{theorem}{Teorema}
\newtheorem*{dem}{Demostración}
\newtheorem{ejercicioaux}{Ejercicio}
\newenvironment{ejercicio}[1]
  {\renewcommand\theejercicioaux{#1}\ejercicioaux\label{ejer:#1}}
  {\endejercicioaux}
\newcounter{ejercounter}[section]
\setcounter{ejercounter}{\value{ejercicioaux}}
\newenvironment{solucion}{\begin{trivlist}
 \item[\hskip \labelsep {\textit{Solución}.}\hskip \labelsep]}{\end{trivlist}}
\setlength{\parindent}{0pt}
\newtheorem{nota}{Nota}

\SetUnicodeOption{mathletters}
\SetUnicodeOption{autogenerated}

\providecommand{\orden}[1]{\mathcal{O}\left({#1}\right)}
\providecommand{\abs}[1]{\left\lvert#1\right\rvert}
\providecommand{\norm}[1]{\lVert#1\rVert}
\providecommand{\ninf}[1]{\norm{#1}_\infty}
\providecommand{\numn}[1]{\norm{#1}_1}
\providecommand{\gabs}[1]{\left|{#1}\right|}
\newcommand{\bor}[1]{\mathcal{B}(#1)}
\providecommand{\func}[2]{\colon{#1}\longrightarrow{#2}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\calA}{\mathcal{A}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\X}{\chi}
\newcommand{\V}{\mathcal{V}}
\newcommand{\I}{\mathcal{I}}
\newcommand{\mm}{\mathfrak{m}}
\newcommand{\pp}{\mathfrak{p}}
\newcommand{\qq}{\mathfrak{q}}
\providecommand{\Zn}[1]{\Z / \Z #1}
\newcommand{\resi}{\varepsilon_L}
\newcommand{\cee}{\mathbb{C}}
\providecommand{\xn}[1]{x_1\dotsc x_{#1}}
\providecommand{\kn}{[x_1\dotsc x_{n}]}
\providecommand{\conv}[1]{\overset{#1}{\longrightarrow}}
\providecommand{\mini}[2]{\min_{#1}{\left\{#2\right\}}}
\providecommand{\maxi}[2]{\max_{#1}{\left\{#2\right\}}}
\providecommand{\gene}[1]{\langle{#1}\rangle}
\providecommand{\deci}[1]{\left\{{#1}\right\}}
\providecommand{\suelo}[1]{\left\lfloor{#1}\right\rfloor}
\providecommand{\ceil}[1]{\left\lceil{#1}\right\rceil}
\providecommand{\convcs}{\xrightarrow{CS}}
% xrightarrow{d}[d]
\setcounter{ejer}{0}
\newcommand{\cicl}{\mathcal{C}}
\newcommand{\parcial}[2]{\frac{\partial #1}{\partial #2}}

\DeclareMathOperator{\Ima}{Im}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Rea}{Re}
\DeclareMathOperator{\coker}{coker}


\raggedbottom

% Esto es para meter un itemize multiculumna, a ver si va
\usepackage{etoolbox,refcount}
\usepackage{multicol}

\newcounter{countitems}
\newcounter{nextitemizecount}
\newcommand{\setupcountitems}{%
  \stepcounter{nextitemizecount}%
  \setcounter{countitems}{0}%
  \preto\item{\stepcounter{countitems}}%
}
\makeatletter
\newcommand{\computecountitems}{%
  \edef\@currentlabel{\number\c@countitems}%
  \label{countitems@\number\numexpr\value{nextitemizecount}-1\relax}%
}
\newcommand{\nextitemizecount}{%
  \getrefnumber{countitems@\number\c@nextitemizecount}%
}
\newcommand{\previtemizecount}{%
  \getrefnumber{countitems@\number\numexpr\value{nextitemizecount}-1\relax}%
}
\makeatother    
\newenvironment{AutoMultiColItemize}{%
\ifnumcomp{\nextitemizecount}{>}{3}{\begin{multicols}{2}}{}%
\setupcountitems\begin{itemize}}%
{\end{itemize}%
\unskip\computecountitems\ifnumcomp{\previtemizecount}{>}{3}{\end{multicols}}{}}
