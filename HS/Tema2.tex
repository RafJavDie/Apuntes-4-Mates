\documentclass[HS.tex]{subfiles}
\begin{document}

\chapter{Álgebra homológica}
\section{Exactitud}
Nuestros objetos serán $\R$-espacio vectoriales de dimensión finita (o $R$-módulos con $R$ dominio de ideales principales).

\begin{defi}
Dado un diagrama de $\R$-e.v. y homomorfismos:
\[ M_{i-1} \xrightarrow{f_{i-1}} M_i \xrightarrow{f_i} M_{i+1} \]
se dice que la sucesión es \emph{exacta} en $M_i$ si $\ker f_i = \Ima f_{i-1}$. Si
\[ \cdots \rightarrow M_{i-2} \xrightarrow{f_{i-2}} \rightarrow M_{i-1} \xrightarrow{f_{i-1}} M_i \xrightarrow{f_i} M_{i+1} \xrightarrow{f_{i+1}} M_{i+2} \rightarrow \cdots \]
es exacto para todo $i \in \Z$, entonces diremos que es una \emph{sucesión exacta larga}.
\end{defi}

\begin{lemma}
Se verifica
\begin{enumerate}[a)]
\item $0 \rightarrow M_1 \xrightarrow{f_1} M_2$ es exacta sii $f_1$ es inyectiva.
\item $M_2 \xrightarrow{f_2} M_3 \rightarrow 0$ es exacto sii $f_2$ es sobreyectivo.
\item $0 \rightarrow M_1 \xrightarrow{f_1} M_2 \xrightarrow{f_2} M_3 \rightarrow 0$ es exacto sii $f_1$ es inyectiva, $f_2$ es sobreyectiva y $f_2$ induce un isomorfismo entre $\coker f_1$ y $M_3$. Este tipo de sucesiones es conocido como \emph{sucesión exacta corta}.
\end{enumerate}
\end{lemma}
\begin{dem}
\begin{enumerate}[a)]
\item $0 \rightarrow M_1 \xrightarrow{f_1} M_2$ es exacta sii $\ker f_1 = \{0\}$ sii $f_1$ es inyectiva.
\item $M_2 \xrightarrow{f_2} M_3 \rightarrow 0$ es exacto sii $\Ima f_2 = M_3$ sii $f_2$ es sobreyectivo.
\item $0 \rightarrow M_1 \xrightarrow{f_1} M_2 \xrightarrow{f_2} M_3 \rightarrow 0$ es exacto sii $f_1$ es inyectiva (apartado (a)), $f_2$ es sobreyectiva (apartado (b)) y $\ker f_2 = \Ima f_1$, es decir $\coker f_1 = M_2/\Ima f_1 = M_2/\ker f_2 \cong \Ima f_2 = M_3$ (por el primer teorema de isomorfía).
\end{enumerate}
\end{dem}

\begin{prop}
Si $0 \rightarrow V_1 \xrightarrow{f} V_2 \xrightarrow{g} V_3 \rightarrow 0$ es una sucesión exacta corta de $\R$-e.v. de dimensión finita, entonces $V_2 \cong V_1 \oplus V_3$.
\end{prop}
\begin{dem}
Sea $\{b_1,\dots,b_r\}$ una base de $V_1$ ($\dim V_1 = r$). Entonces $\{f(b_1), \dots, f(b_r)\}$ es base del subespacio vectorial $f(V_1) \subseteq V_2$. Extendiendo a una base $\{f(b_1), \dots, f(b_r),w_{r+1},\dots,w_n\}$ de $V_2$ ($\dim V_2 = n$). Comprobemos que $\{g(w_{r+1}),\dots,g(w_n)\}=:\mathcal{B}$ es una base de $V_3$.
\begin{itemize}
\item $\mathcal{B}$ es sistema generador: Sea $v \in V_3$, entonces existe $a \in V_2$ con $g(a)=v$ pues $g$ es sobreyectiva. Podemos expresar $a=\sum a_i f(b_i) + \sum \overline{a_j} w_j$. Entonces $v=g(a)= \sum \overline{a_j}g(w_j)$.
\item $\mathcal{B}$ es linealemnte independiente: Supongamos que existe $\sum λ_j g(w_j) = 0$. Entonces $\sum λ_j w_j \in \ker g = \Ima f$, pero $w_j \notin \Ima f$ $\forall j$, luego $λ_j = 0$ $\forall j$.
\end{itemize}
\end{dem}

Véase que hemos probado con toda sucesión exacta corta de espacios vectoriales \emph{escinde}. Usaremos este lema (demuéstrese como ejercicio):
\begin{lemma}[Splitting Lemma]
Se dice que $0 \rightarrow V_1 \xrightarrow{f} V_2 \xrightarrow{g} V_3 \rightarrow 0$ \emph{escinde} si se cumple uno de las siguientes condiciones equivalentes:
\begin{enumerate}
\item $V_2 \cong V_1 \oplus V_3$.
\item $\exists r : V_3 \to V_2$ tal que $g \circ r = id_{V_3}$.
\item $\exists t : V_2 \to V_1$ tal que $t \circ f = id_{V_1}$. 
\end{enumerate}
\end{lemma}

\begin{lemma}[Lema de los cinco]
Sea el diagrama conmutativo:
\[\begin{tikzcd}
	M_1 \arrow[r,"θ_1"] \arrow[d,two heads,"ψ_1"] & M_2 \arrow[r,"θ_2"] \arrow[d,"ψ_2","\cong"'] & M_3 \arrow[r,"θ_3"] \arrow[d,"ψ_3"] & M_4 \arrow[r,"θ_4"] \arrow[d,"ψ_4","\cong"'] & M_5 \arrow[d,hook,"ψ_5"]\\
	N_1 \arrow[r,"φ_1"] & N_2 \arrow[r,"φ_2"] & N_3 \arrow[r,"φ_3"] & N_4 \arrow[r,"φ_4"] & N_5
\end{tikzcd}\]
donde las filas son exactas, $ψ_2$ y $ψ_4$ son isomorfismos, $ψ_1$ es epimorfismos y $ψ_5$ es monomorfismo. Entonces $ψ_3$ es isomorfismo.
\end{lemma}
\begin{dem}
Lo demostramos por diagram-chasing\footnote{Es más fácil hacerlo que explicarlo}. En primer lugar la inyectividad.

Sea $m_3 \in M_3$ tal que $ψ_3(m_3) = 0$, luego $0=φ_3ψ_3(m)=ψ_4θ_3(m_3)$.
Como $ψ_4$ es isomorfismo, $θ_3(m_3)=0$.
Por exactitud, existe $m_2 \in M_2$ tal que $θ_2(m_2)=m_3$. Sea $n_2 = ψ_2(m_2)$.
Como $0=ψ_3θ_2(m_2)=φ_2ψ_2(m_2)$, por exactitud existe $n_1 \in N_1$ tal que $φ_1(n_1) = n_2$.
Como $ψ_1$ es sobreyectivo, existe $m_1 \in M_1$ tal que $ψ_1(m_1)=n_1$. 
Ahora bien, $ψ_2(θ_1(m_1))=φ_1(ψ_1(m_1))=ψ_2(m_2)$.
Como $ψ_2$ es inyectiva, esto quiere decir que $m_2 = θ_1(m_1)$
Luego $m_3 = θ_2(m_2)=θ_2(θ_1(m_1))=0$ por exactitud y $ψ_3$ es inyectiva.

Ahora la sobreyectividad.
Sea $n_3\in N_3$. Llamamos $n_4=\varphi_3(n_3)$. Como $\psi_4$ es sobreyectiva, existe $m_4$ tal que $\psi_4(m_4)=n_4$. Ahora, por la conmutatividad del diagrama, $\psi_5(\theta_4(m_4))=\varphi_4(\psi_4(m_4))=\varphi_4(n_4)=\varphi_4(\varphi_3(m_3))=0$, por exactitud. Luego, por inyectividad de $\psi_5$, tenemos que $\theta(m_4)=0$, que por exactitud significa que existe $m_3\in M_3$ tal que $m_4=\theta(m_3)$. Por conmutatividad del diagrama, tenemos que $\varphi_3(n_3)=\psi_4(\theta_3(m_3))=\varphi_3(\psi_3(m_3))$, luego $n_3-\psi_3(m_3)\in\ker{\varphi_3}$. Por exactitud, esto es equivalente a que exista $n_2\in N_2$ tal que $\varphi_2(n_2)=n_3-\psi_3(m_3)$. Como $\psi_2$, es sobreyectiva, existe $m_2\in M_2$ tal que $n_2=\psi_2(m_2)$. Por conmutatividad, $n_3-\psi(m_3)=\varphi_2(\psi_2(m_2))=\psi_3(\theta_2(m_2))$, luego $n_3=\psi(m_3+\theta_2(m_2))$, con lo que hemos encontrado su preimagen. \QED
\end{dem}

\section{Complejos de cadenas y su homología}

\begin{defi}
Un complejo de cadenas $\mathcal{C}$ es un diagrama del tipo siguiente:
\[ \cdots \rightarrow C_{n+1} \xrightarrow{\partial_{n+1}} C_n \xrightarrow{\partial_n} C_{n-1} \xrightarrow{\partial_{n-1}} \cdots \]
donde $C_i$ son $\R$-e.v. llamados \emph{$n$-cadenas}, $\partial_i$ son homomorfismos de $\R$-e.v. llamados \emph{operadores borde}, tal que $\partial_n \circ \partial_{n+1} = 0$ para todo $n \in \Z$. Habitualmente, denotamos $\mathcal{C}_* = \{(C_n,\partial_n)\}_{n \in \Z}$.

Para todo $n \in \Z$, denotamos $Z_n := \ker \partial_n \subseteq C_n$. A los elementos de $Z_n$ los llamamos \emph{$n$-ciclos}.
Definimos $B_n := \Ima \partial_{n+1} \subseteq C_n$, cuyos elementos se llaman \emph{$n$-bordes}.
Como $\partial_n \circ \partial_{n+1} = 0$, tenemos que $B_n \subseteq Z_n$.
De esta manera, definimos $H_n(\mathcal{C}) = Z_n / B_n$ como el \emph{$n$-ésimo $\R$-e.v. de homología} del complejo de cadenas $\mathcal{C}$.
\end{defi}

\begin{nota}
Un complejo de cadenas $\mathcal{C}$ es exacta si y solo si $H_n(\mathcal{C})=0$ para todo $n\in\Z$. 
\end{nota}

\begin{defi}
Sean $\mathcal{C}_1=\{(C_n^1,\partial_n^1)\}$ y $\mathcal{C}_2=\{(C_n^2,\partial_n^2)\}$ dos complejos de cadenas. Un homomorfismo o morfismo de complejos de cadenas $f : \mathcal{C}_1 \to \mathcal{C}_2$ consiste en una familia $f = \{f_n : C_n^1 \to C_n^2\}_{n \in \Z}$ con $f_n$ homomorfismo de $\R$-e.v. tal que para todo $n \in \Z$, $\partial_n^2 \circ f_n = f_{n-1} \circ \partial_{n-1}^1$, es decir, el siguiente diagrama conmute:
\[\begin{tikzcd}
	C_n^1 \arrow[r,"f_n"] \arrow[d,"\partial_n^1"] & C_n^2 \arrow[d,"\partial_n^2"]\\
	C_{n-1}^1 \arrow[r,"f_{n-1}"] & C_{n-1}^2
\end{tikzcd}\]
Si cada uno de los $f_n$ es isomorfismo de espacios vectoriales, entonces $f$ es isomorfismo de complejo de cadenas.
\end{defi}

\begin{nota}
Es fácil comprobar que $f_n(Z_n(\mathcal{C}_1))\subseteq Z_n(\mathcal{C}_2),\forall n\in\Z$, es decir, $f$ lleva ciclos en ciclos. Asímismo, $f_n(B_n(\mathcal{C}_1))\subseteq B_n(\mathcal{C}_2),\forall n\in\Z$, es decir, $f$ lleva bordes en bordes.
\end{nota}

\begin{prop}
Si $f : \mathcal{C}_1 \to \mathcal{C}_2$ un homomorfismo de complejos de cadenas, entonces $f$ induce para cada $n \in \Z$ un homomorfismo:
\[ f_* : H_n(\mathcal{C}_1) \to H_n(\mathcal{C}_2) \]
\[ f_* ([z]) = [f_n(z)] \]
\end{prop}
\begin{dem}
En primer lugar tenemos que ver que la aplicación está bién definida. Sean $z,z'\in Z_n$ tales que $[z]=[z']$, es decir, $z-z'\in B^1_n=\Ima \partial^1_{n+1}$. Nos preguntamos si $f_*([z])=f_*([z'])\in B^2_n$ sii $[f_n(z)]=[f_n(z')]\in B^2_n$ sii $f_n(z)-f_n(z')\in B^2_n=\Ima \partial^2_{n+1}$. Como $z-z'\in\Ima \partial^1_{n+1}$, existe $c\in C^1_{n+1}$ tal que $z-z'=\partial^1_{n+1}(c)$, por lo que $f_n(z)-f_n(z')=f_n(z-z')=f_n(\partial^1_{n+1}(c))$. Aplicando la definición de homomorfismo de cadenas, $f_n(\partial^1_{n+1}(c))=\partial^2_{n+1}(f_{n+1}(c))$. Por lo que claramente se tiene el resultado.

Probemos que $f_*$ es homomorfismo de complejos de cadenas. Sean $\alpha,\beta\in\R$ y $z_1,z_2\in Z_n$. Usamos las propiedades del cociente de espacios vectoriales y que $f_n$ es homomorfismo.
\[f_*(\alpha[z_1]+\beta[z_2])=f_*([\alpha z_1+\beta z_2])=[f_n(\alpha z_1+\beta z_2)]=[\alpha f_n(z_1)+\beta f_n(z_2)]=\]
\[=\alpha[f_n(z_1)]+\beta[f_n(z_2)]=\alpha f_*([z_1])+\beta f_*([z_2])\]
\QED
\end{dem}

\begin{propi}
\begin{enumerate}
\item Si $\mathcal{C}_1=\mathcal{C}_2=\mathcal{C}$ y $f=\{Id:C_n\to C_n, n\in\Z\}$, entonces $(Id)_*=Id:H_n(\mathcal{C})\to H_n(\mathcal{C})$. 
\item Si tenemos $f:\mathcal{C}\to\mathcal{C}'$ y $g:\mathcal{C}'\to\mathcal{C}''$ morfismos de complejos de cadenas, entonces $(g\circ f)_*=g_*\circ f_*$, donde la composición se entiende como $g_n\circ f_n$ para todo $n\in\Z$.
\end{enumerate}
\end{propi}

\begin{defi}
Sean $\mathcal{C}^1=\{(\mathcal{C}^1_n,\partial_n^1)\}$, $\mathcal{C}^2=\{(\mathcal{C}^2_n,\partial_n^2)\}$ y $\mathcal{C}^3=\{(\mathcal{C}^3_n,\partial_n^3)\}$, junto con morfismos $f:\mathcal{C}^1\to\mathcal{C}^2$ y $g:\mathcal{C}^2\to\mathcal{C}^3$. Si se cumple que
\[
0\to C_n^1\overset{f_n}{\to}C_n^2\overset{g_n}{\to}C_n^3\to 0
\]
es una sucesión exacta corta para todo $n\in\Z$, entonces decimos que
\[
0\to \mathcal{C}^1\overset{f}{\to}\mathcal{C}^2\overset{g}{\to}\mathcal{C}^3\to 0
\]
es una sucesión exacta corta de complejos de cadenas.
\end{defi}


\begin{prop}
Con la notación de la definición anterior, si 
\[
0\to \mathcal{C}^1\overset{f}{\to}\mathcal{C}^2\overset{g}{\to}\mathcal{C}^3\to 0
\]
es una sucesión exacta corta de complejo de cadenas, entonces existen homomorfismos
\[
\Delta:H_n(\mathcal{C}^3)\to H_{n-1}(\mathcal{C}^1),\ n\in\Z,
\]
de manera que se tiene una sucesión exacta larga de la manera siguiente
\[
\cdots\to H_n(\mathcal{C}^1)\overset{f_*}{\to}H_n(\mathcal{C}^2)\overset{g_*}{\to}H_n(\mathcal{C}^3)\overset{\Delta}{\to}H_{n-1}(\mathcal{C}^1)\overset{f_*}{\to}H_{n-1}(\mathcal{C}^2)\to\cdots
\]
llamada \emph{sucesión exacta larga en homología}.
\end{prop}

\begin{dem}
Tenemos
\[\begin{tikzcd}
0\arrow[r] & C_{n+1}^1\arrow[r, "f_{n+1}"]\arrow[d, "\partial_{n+1}^1"]& C_{n+1}^2\arrow[r, "g_{n+1}"]\arrow[d,"\partial_{n+1}^2"]& C_{n+1}^3\arrow[r]\arrow[d,"\partial_{n+1}^3"] & 0\\
0\arrow[r] & C_{n}^1\arrow[r, "f_{n}"]\arrow[d, "\partial_{n}^1"]& C_n^2\arrow[r, "g_{n}"]\arrow[d,"\partial_{n}^2"]& C_{n}^3\arrow[r]\arrow[d,"\partial_{n}^3"] & 0\\
0\arrow[r] & C_{n-1}^1\arrow[r, "f_{n-1}"]\arrow[d, "\partial_{n-1}^1"]& C_{n-1}^2\arrow[r, "g_{n-1}"] \arrow[d,"\partial_{n-1}^2"]& C_{n-1}^3\arrow[r]\arrow[d,"\partial_{n-1}^3"]&  0\\
0\arrow[r] & C_{n-2}^1\arrow[r, "f_{n-2}"]& C_{n-2}^2\arrow[r, "g_{n-2}"]& C_{n-2}^3\arrow[r] & 0
\end{tikzcd}
\]
donde todos los cuadrados son conmutativos. Definimos $\Delta$ de la siguiente manera: dado $[z_3]\in H_n(\mathcal{C}^3)$, es decir, $z_3\in Z_n(\mathcal{C}^3)\subseteq C_n^3$, y como $g$ es sobreyectiva, $\exists x_2\in C_n^2$ con $g_n(x_2)=z_3$. Por otro lado, $g_{n-1}(\partial_n^2(x_2))=\partial_n^3(g_n(x_2))=\partial_n^3(z_3)=0$, de donde se deduce que $\partial_n^2(x_2)\in\ker(g_{n-1})=\Ima(f_{n-1})$. Por tanto, existe un único (por inyectividad) $z_1\in C_{n-1}^1$ con $f_{n-1}(z_1)=\partial^2_n(x_2)$. Si probamos que $z_1\in Z_{n-1}(\mathcal{C}^1)$ entonces definiremos $\Delta([z_3])=[z_1]$.  

Tenemos $f_{n-2}(\partial^1_{n-1}(z_1))=\partial^2_{n-1}(f_{n-1}(z_1))=\partial^2_{n-1}(\partial^2_n(x_2))=0$. Como $f_{n-2}$ es inyectiva, entonces $\partial^1_{n-1}(z_1)=0$, con lo que tenemos lo que buscábamos.

Ahora tenemos que ver si realmente está bien definida.
Sea $z_3' \in Z_n(\mathcal{C}^3)$ otro representante de $[z_3] \in H_n(\mathcal{C}^3)$, es decir $[z_3]=[z_3']$.
Existe $ω_3 \in C_{n+1}^3$ tal que $z_3'-z_3 = \partial_{n+1}^3(ω_3)$.
Siguiendo el mismo procedimiento que usamos para $z_3$, obtenemos $x_2' \in C_n^2$ tal que $g_n(x_2')=z_3'$.
También existe un único $z_1' \in C_{n-1}^1$ tal que $f_{n-1}(z_1') = \partial_n^2(x_2')$.
Definimos $Δ([z_3'])=[z_1']$. Luego tenemos que ver si $[z_1] = [z_1']$, es decir, si $z_1' - z_1 \in B_{n-1}(\mathcal{C}^1)$.
\[ g_n(x_2'-x_2) = g_n(x_2')-g_n(x_2) = z_3-z_3 = \partial_{n+1}^3(ω_3) \]
Como $g_{n+1}$ es sobre, existe $θ_2 \in C_{n+1}^2$ tal que $g_{n+1}(θ_2)=ω_3$.
Ahora consideramos (usando conmutatividad del diagrama)
\[ g_n((x_2'-x_2)-\partial_{n+1}^2(θ_2)) = g_n(x_2'-x_2)-g_n(\partial_{n+1}^2(θ_2)) = \partial_{n+1}^3(ω_3) - \partial_{n+1}^3(g_{n+1}(θ_2)) = 0 \]
Entonces $x_2'-x_2-\partial_{n+1}^2(θ_2) \in \ker g_n = \Ima f_n$, luego existe un único $α_1 \in C_n^1$ tal que $f_n(α_1)=x_2'-x_2-\partial_{n+1}^2(θ_2)$.
Observamos que:
\[ f_{n-1}(\partial_n^1(α_1)) = \partial_n^2(f_n(α_1)) = \partial_n^2(x_2'-x_2-\partial_{n+1}^2(θ_2)) = \partial_n^2(x_2')-\partial_n^2(x_2) = f_{n-1}(z_1'-z_1) \]
Por inyectividad de $f_{n-1}$, deducimos $z_1'-z_1 = \partial_n^1(α_1) \in B_{n-1}(\mathcal{C}^1)$.

Procedemos a ver que la sucesión es exacta. Hay que probar para todo $n \in \Z$:
\begin{enumerate}
\item $\Ima f_* = \ker g_*$. Tenemos que $g_n \circ f_n = 0$ para todo $n$, luego $g \circ f = 0$ como morfismo entre cadenas. En consecuencia, $g_* \circ f_* = (g \circ f)_* = 0$, por lo que $\Ima f_* \subseteq \ker g_*$.

Por otro lado, sea $[z_2] \in H_n(\mathcal{C}^2)$ tal que $g_*([z_2])=0$.
Como $g_*([z_2]) = [g_n(z_2)]$, entonces $g_n(z_2) \in B_n(\mathcal{C}^3)$.
Entonces, existe $x_3 \in C_{n+1}^3$ tal que $\partial_{n+1}^3(x_3)=g_n(z_2)$.
Por otro lado, por sobreyectividad, existe $x_2 \in C_{n+1}^2$ tal que $g_{n+1}(x_2) = x_3 \in C_{n+1}^3$.
Consideramos:
\[ g_n(z_2-\partial_{n+1}^2(x_2)) = g_n(z_2)-g_n(\partial_{n+1}^2(x_2)) = g_n(z_2)-\partial_{n+1}^3(g_{n+1}(x_2)) = g_n(z_2)-\partial_{n+1}^3(x_3) = 0 \]
Luego $z_2 - \partial_{n+1}^2(x_2) \in \ker g_n = \Ima f_n$.
Por lo tanto, existe un único $z_1 \in C_n^1$ tal que $f_n(z_1) = z_2 - \partial_{n+1}^2(x_2)$.
Si $z_1$ es un ciclo, ya tendríamos el resultado, pues $f_*([z_1])=[f_n(z_1)] = [z_2-\partial_{n+1}^2(x_2)] = [z_2]$.
Basta ver que $z_1$ es efectivamente un ciclo. Observando que:
\[ f_{n-1}(\partial_n^1(z_1)) = \partial_n^2(f_n(z_1)) = \partial_n^2(z_2-\partial_{n+1}^2(x_2)) = 0 \]
Por inyectividad de $f_{n-1}$, $\partial_n^1(z_1) = 0$ y $z_1 \in Z_n(\mathcal{C}^1)$.

\item $\Ima g_* = \ker Δ$. Considermos $g_*([x_2])$ con $x_2 \in Z_n(\mathcal{C}^2)$.
Entonces por definición de $Δ$ se tiene que $Δ([g_n(x_2)]) = 0$, ya que $x_2\in\ker\partial_n^2$.

Sea $[z_3] \in H_n(\mathcal{C}^3)$ tal que $Δ([z_3]) = [0]$.
Por la construcción de $Δ$, esto quiere decir que existe $x_2 \in C_n^2$ tal que $g_n(x_2)=z_3$, $\partial_n^2(x_2)=0$ y existe $ω_1 \in C_n^1$ tal que $\partial_n^1(ω_1) = 0$ (este $\omega_1$ sería tal que $\partial_n^1(ω_1)=z_1$ en la construcción de $\Delta$).
Observamos que como $g_n \circ f_n = [0]$:
\[ g_*([x_2-f_n(ω_1)]) = [g_n(x_2 - f_n(ω_1))] = [g_n(x_2)] = [z_3]. \]
Para argumentar esto falta ve que $x_2-f_n(ω_1)$ es un ciclo, pero:
\[ \partial_n^2(x_2-f_n(ω_1)) = \partial_n^2(x_2) - \partial_n^2f_n(ω_1) = \partial_n^2(x_2) - f_{n-1}\partial_n^1(ω_1) = 0. \]
\item $\Ima Δ = \ker f_*$. Consideramo $Δ([z_3]) = [z_1]$ con $z_3 \in Z_n(\mathcal{C}^3)$.
Por la construcción de $Δ$, esto quiere decir que existe $x_2 \in C_n^2$ tal que $g_n(x_2) = z_3$ y existe un único $z_1 \in C_{n-1}^1$ tal que $f_{n-1}(z_1) = \partial_n^2(x_2)$.
Luego:
\[ f_*(Δ([z_3])) = f_*([z_1]) = [f_{n-1}(z_1)] = [\partial_n^2(x_2)] = 0. \]

Por otro lado, supongamos que $f_*([z_1]) = 0$. Tenemos que existe $x_2 \in C_n^2$ tal que $\partial_n^2(x_2)=f_{n-1}(z_1)$.
Tomamos $z_3 = g_n(x_2)$. Tenemos que:
\[ \partial_n^3(z_3) = \partial_n^3(g_n(x_2)) = g_{n-1}(\partial_n^2(x_2)) = g_{n-1}(f_{n-1}(z_1)) = 0. \]
Luego $z_3$ es un ciclo, además:
\[ Δ([z_3]) = [z_1] \Rightarrow [z_1] \in \Ima Δ. \]
\QED
\end{enumerate}
\end{dem}

\begin{defi}
Dados dos complejos de cadenas $\mathcal{C} = \{(C_n,\partial_n)\}_{n \in \Z}$ y $\mathcal{C}' = \{(C_n',\partial_n')\}_{n \in \Z}$, podemos construir un tercer complejo de cadenas $\mathcal{C} \oplus \mathcal{C}'$ dado por:
\[ \left(\mathcal{C} \oplus \mathcal{C}'\right)_n = \{(C_n \oplus C_n', \partial_n \oplus \partial_n')\}_{n\in\Z} \]
donde
\[ \begin{matrix}\partial_n \oplus \partial_n' \colon & C_n \oplus C_n' \to C_{n-1} \oplus C_{n-1}'\\
& (x,y) \mapsto \left(\partial_n(x), \partial_n'(y)\right) \end{matrix}. \]
Nos referiremos a este complejo como la \emph{suma directa} de $\mathcal{C}$ y $\mathcal{C}'$.
\end{defi}

\begin{defi}
Dado un complejo de cadenas $\mathcal{C} = \{(C_n,\partial_n)\}_{n \in \Z}$ y dados subespacios vectoriales $C_n' \subseteq C_n$ $\forall n \in \Z$ cumpliendo que $\partial_n(C_n') \subseteq C_{n-1}'$, diremos que tenemos un \emph{subcomplejo de cadenas} $\mathcal{C}' = \{(C_n',\partial_n|_{C_n'})\}_{n \in \Z}$ de $\mathcal{C}$. Lo denotaremos $\mathcal{C}' \subseteq \mathcal{C}$.
\end{defi}

\begin{prop}
Sea $\mathcal{C}$ un complejo de cadenas y consideremos $\mathcal{C}^1, \mathcal{C}^2 \subseteq \mathcal{C}$ subcomplejos.
Entonces tenemos la secuencia exacta corta:
\[ 0 \to C_n^1 \cap C_n^2 \xrightarrow{i_n} C_n^1 \oplus C_n^2 \xrightarrow{j_n} \Ima{j_n}\subseteq C_n \to 0 \]
donde por:
\[ i_n \colon x \mapsto (x,-x), \]
\[ j_n \colon (x,y) \mapsto x+y.\]
Además, estas aplicaciones conmutan con los operadores borde.
\end{prop}
La demostración es sencilla y se deja como ejercicio.

Por tanto, tenemos una sucesión exacta corta de complejos de cadenas
\[
0\to\mathcal{C}^1\cap\mathcal{C}^2\overset{i}{\to}\mathcal{C}^1\oplus\mathcal{C}^2\overset{j}{\to}\Ima{j}\to 0.
\]
Esta sucesión induce una sucesión exacta larga en homología llamada \emph{sucesión de Mayer-Vietoris}
\[
\cdots\to H_n(\mathcal{C}^1\cap\mathcal{C}^2)\overset{i_*}{\to}H_n(\mathcal{C}^1\oplus\mathcal{C}^2)\overset{j_*}{\to}H_n(\Ima{j})\overset{\Delta}{\to}H_{n-1}(\mathcal{C}^1\cap\mathcal{C}^2)\to\cdots
\]
\newpage
\begin{observaciones}\
\begin{enumerate}
\item $H_n(\mathcal{C}^1\oplus\mathcal{C}^2)\cong H_n(\mathcal{C}^1)\oplus H_n(\mathcal{C}^2)$, mediante el isomorfismo $[(z_1,z_2)]\mapsto ([z_1],[z_2])$.
\item $\Ima{j_n}=C^1_n+C^2_n=\{x+y\mid x\in C^1_n, y\in C^2_n\}$, así que $\Ima{j}=\mathcal{C}^1+\mathcal{C}^2$. Si $C^1_n+C_n^2=C_n$ para todo $n\in\Z$, entonces $\Ima{j}=\mathcal{C}$. Así que $H_n(\Ima{j})=H_n(\mathcal{C})$.
\end{enumerate}
\end{observaciones}

\begin{defi}
Un complejo de $\mathcal{C}=\{(C_n,\partial_n)\}_{n\in\Z}$ se dice \emph{positivo} si $C_n=0$ para todo $n>0$. En este caso, diremos que una aplicación lineal sobreyectiva $\varepsilon: C_0\to\mathbb{F}$ cumpliendo $\varepsilon\partial_1=0$ se dirá que es un \emph{aumento} de $\mathcal{C}$.
\end{defi}

Si tenemos un complejo de cadenas $\mathcal{C}$
\[
C_n\overset{\partial}{\to} C_{n-1}\to\cdots C_1\overset{\partial_1}{\to} C_0\to 0
\]
podemos aumentarlo a un complejo $\tilde{\mathcal{C}}$
\[
\tilde{C}_n\overset{\partial}{\to} \tilde{C}_{n-1}\to\cdots \tilde{C}_1\overset{\partial_1}{\to} \tilde{C}_0\overset{\varepsilon}{\to}\tilde{C}_{-1}\to 0.
\]
Donde $\tilde{C}_n=C_n$ para $n\geq 0$ y $\tilde{C}_{-1}=\mathbb{F}$. A los espacios vectoriales $H_n(\tilde{\mathcal{C}})$ también los denotaremos por $\tilde{H}_n( \mathcal{C})$ y los llamaremo espacios vectoriales de homología \emph{reducida} de $\mathcal{C}$. 

Obsérvese que si $n\geq 1$, $\tilde{H}_n( \mathcal{C})=H_n( \mathcal{C})$. Además, $\tilde{H}_{-1}(\mathcal{C})=0$ y $\tilde{H}_0(\mathcal{C})\cong H_0(\mathcal{C})\oplus\mathbb{F}$. Vamos a justificar la última afirmación. Por definición, $\tilde{H}_0(\mathcal{C})=\ker{\varepsilon}/\Ima{\partial_1}$ y $H_0(\mathcal{C})=C_0/\Ima{\partial_1}$. Observamos que $\tilde{H}_0(\mathcal{C})\subseteq H_0(\mathcal{C})$. Así que podemos construir una sucesión exacta
\[
0\to \tilde{H}_0(\mathcal{C})\to H_0(\mathcal{C})\to \frac{C_0/\Ima{\partial_1}}{\ker{\varepsilon}/\Ima{\partial_1}}\to 0.
\]
Por el tercer teorema de isomorfía, el último término es isomorfo a $C_0/\ker{\varepsilon}\cong \mathbb{F}$ por el primer teorema de isomorfía. Así que, que por escisión de la sucesión exacta corta $H_0(\mathcal{C})\cong \tilde{H}_0(\mathcal{C})\oplus\mathbb{F}$.

\begin{nota}
Si la sucesión exacta fuera de grupos abelianos, en el caso de que el término de la derecha sea libre de torsión, entonces también escinde.
\end{nota}

Sea $0\to\mathcal{C}^1\overset{f}{\to}\mathcal{C}^2\overset{g}{\to}\mathcal{C}^3\to 0$ una sucesión exacta de complejos de cadenas positivos, y consideremos aumentos $\varepsilon_1:C_0^1\to\mathbb{F}$, $\varepsilon_2:C_0^2\to\mathbb{F}$ tales que $\varepsilon_2f_0=\varepsilon_1$. Entonces, equivalentemente se tiene una sucesión exacta cote de complejos de cadenas
\[
0\to\tilde{\mathcal{C}}^1\overset{\tilde{f}}{\to}\tilde{\mathcal{C}}^2\overset{\tilde{g}}{\to}\tilde{\mathcal{C}}^3\to 0.
\]
La diferencia entre esta sucesión y la original se da en los niveles inferiores.
\[
\begin{tikzcd}
0\arrow[r] & C_0^1\arrow[r,"f_0"]\arrow[d, "\varepsilon_1"] & C_0^2\arrow[r,"g_0"]\arrow[d, "\varepsilon_2"]& C_0^3\arrow[r]\arrow[d] & 0\\
0\arrow[r] & \F\arrow[r,"f_{-1}=Id"]\arrow[d] & \F\arrow[r, "g_{-1}=0"]\arrow[d] & 0\arrow[d,equal] &\\
& 0 & 0 & 0 &
\end{tikzcd}
\]
Claramente las filas son sucesiones exactas cortas y los diagramas conmutan. Entonces, tenemos la sucesión exacta larga en homología reducida:
\[
\cdots \to\tilde{H}_n(\mathcal{C}^1)\overset{\tilde{f}_*}{\to} \tilde{H}_n(\mathcal{C}^2)\overset{\tilde{g}_*}{\to}H_n(\CC^3)\overset{\Delta}{\to}\tilde{H}_{n-1}(\CC^1)\overset{\tilde{f}_*}{\to}\cdots
\]

Análogamente, se tiene una sucesión de Mayer-Vietoris en homología reducida de la siguiente manera: sean $\CC^1,\CC^2\subseteq\CC$ complejos de cadenas positivos. Consideramos aumentos de $\CC$, $\varepsilon:C_0\to\F$ tal que su restricción a $C_0^1\cap C_0^2$ es un aumento de la intersección. Obsérvese que con esta condición también se tiene que es aumento al restringirla a $C_0^i$. Con estas condiciones, la sucesión de Mayer-Vietoris queda
\[
\cdots\to \tilde{H}_n(\mathcal{C}^1\cap\mathcal{C}^2)\to\tilde{H}_n(\mathcal{C}^1\oplus\mathcal{C}^2)\to\tilde{H}_n(\Ima{j})\overset{\Delta}{\to}\tilde{H}_{n-1}(\mathcal{C}^1\cap\mathcal{C}^2)\to\cdots
\]
proveniente de la sucesión exacta corta 
\[
0\to \widetilde{\CC^1\cap \CC^2}\to \tilde{\CC}^1\oplus\tilde{\CC}^2\to\widetilde{\Ima{j}}\to 0
\]
que en dimensiones bajas se escribe como
\[
\begin{tikzcd}
0\arrow[r] & C_0^1\cap C_0^2\arrow[r,"i_0"]\arrow[d, "\varepsilon|_{C_0^1\cap C_0^2}"'] & C_0^1\oplus C_0^2\arrow[r,"j_0"]\arrow[d, "\varepsilon|_{C_0^1}"', "\varepsilon|_{C_0^2}"] & \Ima{j_0}\arrow[r]\arrow[d, "\varepsilon|_{\Ima{j_0}}"] & 0\\
0\arrow[r] & \F\arrow[r,"i_{-1}"]& \F\oplus\F\arrow[r, "j_{-1}"] & \F\arrow[r] & 0 
\end{tikzcd}
\]

\section{Homotopía de complejos de cadenas}

\begin{defi}
Dos morfismos de complejos de cadenas $f,g:\CC^1\to\CC^2$ se dicen \emph{homotópicos} y se denota $f\simeq g$ si existe una familia de homomorfismos $h=\{h_n:C^1_n\to C^2_{n+1}\}_{n\in\Z}$ cumpliendo $f_n-g_n=\partial^2_{n+1}h_n+h_{n-1}\partial^1_n$ para todo $n\in\Z$.
\end{defi}

\begin{lemma}
La relación ``ser homópicos'' entre morfismos de complejos de cadenas es es una relación de equivalencia.
\end{lemma}
\begin{proof}\
\begin{enumerate}
\item Reflexiva: basta tomar como $h$ el morfismo 0 de complejos de cadenas.
\item Simétrica: dado el morfismo $h$ que relaciona $f\simeq g$, es claro que el morfismo $-h$ relaciona $g\simeq f$.
\item Transitiva: supongamos que $f\simeq g$ mediante $h$ y $g\simeq t$ mediante $h'$, entonces tenemos
\[
f_n-t_n=(f_n-g_n)+(g_n-t_n)=(\partial_{n+1}^2 h_n+h_{n-1}\partial_n^1)+(\partial_{n+1}^2 h_n'+h_{n-1}'\partial_n^1)=
\]
\[
\partial_{n+1}^2(h_n+h_n')+(h_{n-1}+h_{n-1}')\partial_n^1.
\]
Por tanto, el morfismo que relaciona $f$ con $t$ es $h+h'$. 
\end{enumerate}
\end{proof}

\begin{lemma}
Sean $f,g \colon \CC^2 \to \CC^3$, $k \colon \CC^3 \to \CC^4$ y $l \colon \CC^1 \to \CC^2$ morfismos de cadena. Comprobar que si $f \simeq g$, entnces $f \circ l \simeq g \circ l$ y $k \circ f \simeq k \circ g$.

\[
\begin{tikzcd}
\CC^1 \arrow[r,"l"] & \CC^2 \arrow[r,bend right,"f"] \arrow[r,bend left,"g"]& \CC^3 \arrow[r,"k"] & \CC^4
\end{tikzcd}
\]
\end{lemma}
\begin{proof}
Ejercicio.
\end{proof}

\begin{coro}
Como consecuencia, si $f, g \colon \CC^1 \to \CC^2$ y $k,t \colon \CC^2 \to \CC^3$ son morfismos cumpliendo $f \simeq g$ y $k \simeq t$, entonces $k \circ f \simeq t \circ g$.
\end{coro}
\begin{proof}
Como $f \simeq g$, se tiene por el lema anterior que $k \circ f \simeq k \circ g$.
Como $k \simeq t$, entonces $k \circ g \simeq t \circ g$.
Por transitividad, $k \circ f \simeq t \circ g$.
\end{proof}

\begin{defi}
Un morfismo $f \colon \CC^1 \to \CC^2$ de complejos de cadenas se dice \emph{equivalencia de homotopía} si $\exists g \colon \CC^2 \to \CC^2$ morfismo de complejos de cadenas tal que $f \circ g \simeq Id_{\CC^2}$ y $g \circ f \simeq Id_{\CC^1}$.

Diremos que $\CC^1$ y $\CC^2$ son \emph{homotópicamente equivalentes} si existe una equivalencia de homotopía entre ellos.
\end{defi}

Hay que tener en cuenta que la inversa homótopica $g$ no tiene por qué ser única, por eso no usaremos la notación $f^{-1}$.

\begin{prop}
Se verifican:
\begin{enumerate}
\item Si $f, g \colon \CC^1 \to \CC^2$ son homotópicos, entonces $f_* = g_* \colon H_n(\CC^1) \to H_n(\CC^2)$.
\item Como consecuencia, si $f \colon \CC^1 \to \CC^2$ es equivalencia de homotopía, entonces $f_* \colon H_n(\CC^1) \to H_n(\CC^2)$ es un isomorfismo de espacios vectoriales para todo $n \in \Z$.
\end{enumerate}
\end{prop}
\begin{proof}\
\begin{enumerate}
\item Sea $z \in Z_n(\CC^1)$:
\[ f_*([z]) - g_*([z]) = [f_n(z)]-[g_n(z)]=[f_n(z)-g_n(z)] = [\partial_{n+1}^2(h_n(z)) + h_{n-1}(\partial_n^1(z))]. \]
Como $z$ es un ciclo, $\partial_n^1(z)=0$. Análogamente $h_n(z)$ es también un ciclo, luego:
\[ [\partial_{n+1}^2(h_n(z)) + h_{n-1}(\partial_n^1(z))] = [0] \]
Entonces $f_* = g_*$.
\item Como $f$ es equivalencia de homotopía, existe $g$ inversa homotópica de $f$. Entonces:
\[ (f \circ g) \simeq id_{\CC^2} \Rightarrow (f \circ g)_*= (id_{\CC^2})_* \Rightarrow f_* \circ g_* = Id_{H_n(\CC^2)}\]
\[ (g \circ f) \simeq id_{\CC^1} \Rightarrow (g \circ f)_*= (id_{\CC^1})_* \Rightarrow g_* \circ f_* = Id_{H_n(\CC^1)}\]
\end{enumerate}
\end{proof}

\begin{defi}
Un complejo de cadenas $\CC = \{(C_n, \partial_n)\}_{n \in \Z}$ se dice \emph{contráctil} si $Id_{\CC} \simeq 0$.
\end{defi}

\begin{prop}\mbox{}
\begin{enumerate}
\item Si $\CC$ es contráctil, entonces $H_n(\CC) = 0$ para todo $n \in \Z$.
\item Si $\CC = \{(C_n,\partial_n)\}_{n \in \Z}$ es un complejo de cadenas formado por espacios vectoriales, entonces también se da la implicación contraria.
\end{enumerate}
\end{prop}
\begin{proof}\
\begin{enumerate}
\item Existe $h \in \{h_n \colon C_n \to C_{n+1}\}_{n \in \Z}$ cumpliendo 
\[ Id_{C_n}-0 = \partial_{n+1} \circ h_n + h_{n-1} \circ \partial_n \]
Sea $z \in Z_n(\CC)$, aplicando la fórmula anterior a $z$:
\[ z=(Id_{C_n}-0)(z) = \partial_{n+1}(h_n(z)) + h_{n-1}(\partial_n(z)), \]
luego
\[ z = \partial_{n+1}(h_n(z)) \in B_n(\CC). \]
Por lo que $[z] = [\partial_{n+1}(h_n(z))] = [0] \in H_n(\CC)$.

\item Sabemos $Z_n(\CC) = B_n(\CC)$ para todo $n \in \Z$.
Consideramos las sucesiones exactas cortas:
\[
\begin{tikzcd}
0 \arrow[r] & Z_n(\CC) \arrow[r,"i_n"] & C_n \arrow[r,"\partial_n"] & B_{n-1}(\CC)\arrow[r] &  0\\
0 \arrow[r] & Z_{n+1}(\CC) \arrow[r,"i_n"] & C_{n+1} \arrow[r,"\partial_n"] & B_n(\CC) \arrow[r]&  0
\end{tikzcd}
\]
Como una sucesión exacta corta de espacios vectoriales escinde, existe $\{t_n\}_{n \in \Z}$ tal que $t_n \colon B_{n-1}(\CC) \to C_n$ con $\partial_n \circ t_n = id_{B_{n-1}(\CC)}$.

Se comprueba que $C_n = Z_n(\CC) + t_n(B_{n-1}(\CC))$ (no usamos el splitting lemma aquí).
Entonces, como $Z_n(\CC) = B_n(\CC)$:
\[ C_n = B_n(\CC) + t_n(B_{n-1}(\CC)) \]
\[ C_{n+1}= B_{n+1}(\CC) + t_{n+1}(B_n(\CC)) \]
Definimos $h_n \colon C_n \to C_{n+1}$. Para ello, observamos que $B_n \cap t_n(B_{n-1}) = \{0\}$, luego podemos definir $h_n$ sobre $B_n$ y $t_n(B_{n-1})$ por separado.
\[ h_n|_{B_n(\CC)} = t_{n+1} \]
\[ h_n|_{t_n(B_{n-1}(\CC))} = 0 \]
Dado $x \in C_n$, $x = b_n + t_n(b_{n-1})$ con $b_n \in B_n(\CC)$ y $b_{n-1} \in B_{n-1}(\CC)$.
\begin{align*}
& h_{n-1}(\partial_n(x)) + \partial_{n+1}(h_n(x)) = h_{n-1}(\partial_n(b_n)+\partial_n(t_n(b_{n-1}))) + \partial_{n+1}(h_n(b_n)+h_n(t_n(b_{n-1}))) \\
& = h_{n-1}(b_{n-1}) + \partial_{n+1}(h_n(b_n)) = t_n(b_{n-1}) + \partial_{n+1}(t_{n+1}(b_n)) = t_n(b_{n-1})+b_n = x
\end{align*}
Luego $Id_{\CC} \simeq_h 0$.
\end{enumerate}
\end{proof}

\begin{prop}
Sean $\CC = \{(C_n, \partial_n)\}_{n \in \Z}$ y $\CC' = \{(C_n',\partial_n')\}_{n \in \Z}$ complejos de cadenas junto con un morfismo $f \colon \CC \to \CC'$ de complejos de cadenas. En estas condiciones definimos un nuevo complejo de cadenas $\CC_f = \{D_n,\overline{\partial}_n)\}_{n \in \Z}$ dado por:
\[ D_n = C_{n-1} \oplus C_n' \]
\[ \overline{\partial}_n (x,y) = (-\partial_{n-1}(x), \partial'_n(y) + f_{n-1}(x)) \]
\begin{enumerate}
\item Comprobar $\overline{\partial}_{n-1} \circ \overline{\partial}_n = 0$ para todo $n \in \Z$.
\item Si $C_n$ y $C_n'$ son espacios vectoriales, entonces son equivalentes:
\begin{enumerate}[i]
\item $f$ es equivalencia de homotopía.
\item $f_* \colon H_n(\CC) \to H_n(\CC')$ isomorfismo.
\item $H_n(\CC_f) = 0$.
\item $\CC_f$ es contráctil.
\end{enumerate}
\end{enumerate}
\end{prop}
\begin{proof}\mbox{}
Ya hemos probado anteriormente $\textsc{I}\Rightarrow \textsc{II}$ y $\textsc{II}\Rightarrow \textsc{IV}$, así que probamos $\textsc{II}\Rightarrow \textsc{III}$ y $\textsc{IV}\Rightarrow \textsc{I}$.
\begin{itemize}
\item[($\textsc{II}\Rightarrow \textsc{III}$)]
\item[($\textsc{IV}\Rightarrow \textsc{I}$)]
Sabemos que $Id_{\CC_f} \simeq_{\overline{h}} 0$. Proponemos la siguiente inversa homotópica a $f$:
\[ g \colon \CC' \to \CC \text{ dada por }g_n = p_1^{n+1} \circ \overline{h}_n \circ i_n^2\]
donde $p_1^{n+1}$ e $i_n^2$ provienen del diagrama de proyeccione e inclusiones siguiente:
\[
\begin{tikzcd}
& C_{n-1} \arrow[r,"i_1^n"] & D_n\\
D_n \arrow[ur,"p_1^n"] \arrow[dr,"p_2^n"]\\
& C_n' \arrow[r,"i_2^n"] & D_n
\end{tikzcd}
\]
\end{itemize}
Queda como ejercicio el resto de la demostración. Para $g \circ f \simeq_h id_{\CC}$, usar $h_n = -p_1^{n+2} \circ \overline{h}_{n+1} \circ i_1^n$. Para $f \circ g \simeq_{h'} id_{\CC'}$, usa $h_n' = p_2^{n+1} \circ \overline{h}_n \circ i_2^n$.
\end{proof}
\end{document}